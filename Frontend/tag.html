<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Spinner with Spin.js</title>
  <script src="https://cdn.jsdelivr.net/npm/spin.js@2.3.2/spin.min.js"></script>
</head>
<body>

  <button onclick="fetchData()">Fetch Data</button>

  <div id="spinner"></div> <!-- Spinner container -->

  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script>
    // Tạo spinner với Spin.js
    var opts = {
      lines: 12, // Số lượng vòng quay
      length: 10, // Chiều dài của vòng quay
      width: 4, // Độ dày của vòng quay
      radius: 15, // Bán kính của vòng quay
      scale: 1, // Tỉ lệ của spinner
      corners: 1, // Góc cạnh
      color: '#3498db', // Màu của spinner
      opacity: 0.25, // Độ mờ của vòng quay
      rotate: 0, // Góc quay
      direction: 1, // Hướng quay
      speed: 1, // Tốc độ quay
      trail: 60, // Độ dài dấu vết
      fps: 20, // Khung hình mỗi giây
      zIndex: 2e9, // Chỉ số z để đảm bảo spinner ở trên các phần tử khác
      className: 'spinner', // Tên class cho spinner
      top: '50%', // Vị trí của spinner trên trục y
      left: '50%' // Vị trí của spinner trên trục x
    };

    var spinner = new Spinner(opts);

    function toggleLoader(show) {
      const loaderElement = document.getElementById('spinner');
      if (show) {
        spinner.spin(loaderElement); // Hiển thị spinner
      } else {
        spinner.stop(); // Dừng spinner
      }
    }
    toggleLoader(true);
    function fetchData() {
      // Hiển thị spinner khi bắt đầu gọi API
     

      axios.get('https://jsonplaceholder.typicode.com/posts')
        .then(response => {
          console.log(response.data); // Hiển thị dữ liệu từ API
          // Ẩn spinner sau khi nhận dữ liệu từ API
          toggleLoader(false);
        })
        .catch(error => {
          console.error('Error fetching data:', error);
          // Ẩn spinner nếu có lỗi
          toggleLoader(false);
        });
    }
  </script>

</body>
</html>
